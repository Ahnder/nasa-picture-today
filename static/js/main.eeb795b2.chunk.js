(this["webpackJsonpnasa-apod"]=this["webpackJsonpnasa-apod"]||[]).push([[0],{117:function(e,a,t){},118:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(29),o=t.n(c),l=t(11),i=t.n(l),s=t(30),u=t(31),d=t(32),m=t(39),v=t(38),p=t(33),f=t.n(p),g=t(6),h=t.n(g),w=h.a.bind(f.a),y=function(e){var a=e.viewer,t=e.spaceNavigator;return(r.a.createElement("div",{className:w("viewer-template")},r.a.createElement("header",null,"Astronomy Picture of the Day"),r.a.createElement("div",{className:w("viewer-wrapper")},a,r.a.createElement("div",{className:w("space-navigator-wrapper")},t))))},E=t(34),N=t.n(E),x=t(9),D=h.a.bind(N.a),b=function(e){var a=e.onPrev,t=e.onNext;return(r.a.createElement("div",{className:D("space-navigator")},r.a.createElement("div",{className:D("left","end")},r.a.createElement("div",{className:D("circle"),onClick:a},r.a.createElement(x.a,null))),r.a.createElement("div",{className:D("right","end")},r.a.createElement("div",{className:D("circle"),onClick:t},r.a.createElement(x.b,null)))))},k=t(35),O=t.n(k),P=t(36),Y=h.a.bind(O.a),A=function(e){var a=e.mediaType,t=e.url;return e.loading?r.a.createElement("div",{className:Y("viewer")},r.a.createElement(P.ChasingDots,{color:"white",size:60})):t?r.a.createElement("div",{className:Y("viewer")},"image"===a?r.a.createElement("img",{onClick:function(){return window.open(t)},src:t,alt:"space"}):r.a.createElement("iframe",{title:"space-video",src:t,frameBorder:"0",gesture:"media",allow:"encrypted-media",allowFullScreen:!0})):null},M=t(12),j=t.n(M),C=t(37),S=t.n(C);function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return S.a.get("https://api.nasa.gov/planetary/apod?api_key=rWwxvxslxpsr2usv5uLMpmyYyUo6u0V7DGNQ8y9p&date=".concat(e))}var B=function(e){Object(m.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={loading:!1,maxDate:null,date:null,url:null,mediaType:null},e.getAPOD=function(){var a=Object(s.a)(i.a.mark((function a(t){var n,r,c,o,l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.state.loading){a.next=2;break}return a.abrupt("return");case 2:return e.setState({loading:!0}),a.prev=3,a.next=6,T(t);case 6:n=a.sent,r=n.data,c=r.date,o=r.url,l=r.media_type,e.state.maxDate||e.setState({maxDate:c}),e.setState({date:c,mediaType:l,url:o}),console.log(n),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(3),console.log(a.t0);case 16:e.setState({loading:!1});case 17:case"end":return a.stop()}}),a,null,[[3,13]])})));return function(e){return a.apply(this,arguments)}}(),e.handlePrev=function(){var a=e.state.date,t=j()(a).subtract(1,"days").format("YYYY-MM-DD");console.log(t),e.getAPOD(t)},e.handleNext=function(){var a=e.state,t=a.date;if(t!==a.maxDate){var n=j()(t).add(1,"days").format("YYYY-MM-DD");console.log(n),e.getAPOD(n)}},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getAPOD()}},{key:"render",value:function(){var e=this.state,a=e.url,t=e.mediaType,n=e.loading,c=this.handlePrev,o=this.handleNext;return r.a.createElement(y,{spaceNavigator:r.a.createElement(b,{onPrev:c,onNext:o}),viewer:r.a.createElement(A,{url:a,mediaType:t,loading:n})})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(117);o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},33:function(e,a,t){},34:function(e,a,t){},35:function(e,a,t){},40:function(e,a,t){e.exports=t(118)}},[[40,1,2]]]);
//# sourceMappingURL=main.eeb795b2.chunk.js.map